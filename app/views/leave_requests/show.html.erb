<h2>LeaveRequestController#show</h2>

<p>
	<strong><%= l(:label_leave_id) %></strong>
	<%= @leave.id %>
</p>
<p>
	<strong><%= l(:label_leave_creator) %></strong>
	<%= @leave.user.name %>
</p>
<p>
	<strong>Leave From:</strong>
	<%= @leave.from_date %>
</p>
<p>
	<strong>Leave Until:</strong>
	<%= @leave.to_date %>
</p>
<p>
	<strong>Leave Days:</strong>
	<%= @leave.actual_leave_days %>
</p>
<p>
	<strong><%= l(:label_leave_comments) %></strong>
	<%= @leave.comments %>
</p>
<p>
	<strong>Leave AM/PM:</strong>
	<%= @leave.request_type %>
</p>
<p>
	<strong>Leave Reason:</strong>
	<%= @leave.issue.subject %>
</p>
<p>
	<strong>Created on:</strong>
	<%= @leave.created_at %>
</p>
<p>
	<strong>Last updated:</strong>
	<%= @leave.updated_at %>
</p>

<p>
	<strong>Leave Status:</strong>
	<%= @leave.request_status %>
</p>

<% if @leave.request_status == "processed" %>
	<%= render :partial => '/leave_statuses/status' %>
<% end %>


<%= link_to 'Back', leave_requests_path %>

<% if @leave.request_status == "created" && User.current == @leave.user %>
	<%= link_to 'Edit', edit_leave_request_path(@leave) %>
<% end %>

<% if LeavesHolidaysLogic.is_allowed_to_manage_status(User.current, @leave.user) %>
	<%= link_to 'Manage', new_leave_request_leave_statuses_path(@leave) %>
<% end %>


<% if @leave.request_status == "created" && User.current == @leave.user %>
	<%= link_to 'Submit', submit_leave_request_path(@leave) %>
<% end %>

<% if @leave.request_status == "submitted" && User.current == @leave.user %>
	<%= link_to 'Unsubmit', unsubmit_leave_request_path(@leave) %>
<% end %>

<% if User.current == @leave.user && (@leave.request_status != "processed" || (@leave.request_status == "processed" && @status.acceptance_status == "accepted")) %>
<%= link_to 'Cancel Leave Request', leave_request_path(@leave), method: :delete, data: { confirm: 'Are you sure to cancel this leave?' } %>
<% end %>